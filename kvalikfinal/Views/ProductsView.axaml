<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="kvalikfinal.Views.ProductsView" 
             Background="#F5F6F8" FontFamily="Roboto">

<Grid Margin="20">
    <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,20">
        <TextBlock Text="Product Management"
                   FontSize="20"
                   FontWeight="Bold"
                   Foreground="#1F1F1F"
                   VerticalAlignment="Center"/>
        <Button Content="Add Product"
                Width="120"
                Margin="20,0,0,0"
                Background="#2F80ED"
                Foreground="#FFFFFF"
                Click="AddProductButton_Click"/>
    </StackPanel>

    <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,15" Spacing="10">
        <ComboBox x:Name="CategoryFilter"
                  Width="200"
                  SelectionChanged="FilterChanged">
            <ComboBox.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding Name}" Foreground="#1F1F1F"/>
                </DataTemplate>
            </ComboBox.ItemTemplate>
        </ComboBox>

        <TextBox x:Name="SearchTextBox"
                 Watermark="Search by name..."
                 Width="300"
                 TextChanged="SearchTextBox_TextChanged"/>
        <Button Content="Reset Filters"
                Width="120"
                Background="#2F80ED"
                Foreground="#FFFFFF"
                Click="ResetFiltersButton_Click"/>
    </StackPanel>

    <Border Grid.Row="2"
            Background="White"
            BorderBrush="#E0E0E0"
            BorderThickness="1"
            CornerRadius="5">
        <ScrollViewer HorizontalScrollBarVisibility="Auto"
                      VerticalScrollBarVisibility="Auto">
            <DataGrid x:Name="ProductsGrid"
                      AutoGenerateColumns="False"
                      IsReadOnly="True"
                      GridLinesVisibility="Horizontal"
                      HeadersVisibility="Column"
                      SelectionMode="Single"
                      FontSize="14"
                      Foreground="#1F1F1F">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="ID" Binding="{Binding ProductId}" Width="50"/>
                    <DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="200"/>
                    <DataGridTextColumn Header="Category" Binding="{Binding Category.Name}" Width="150"/>
                    <DataGridTextColumn Header="Unit" Binding="{Binding Unit}" Width="100"/>
                    <DataGridTextColumn Header="Min Stock" Binding="{Binding MinStock}" Width="100"/>
                    <DataGridTextColumn Header="Current Stock" Binding="{Binding CurrentStock}" Width="120"/>
                    <DataGridTemplateColumn Header="Actions" Width="150">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal" Spacing="5">
                                    <Button Content="Edit"
                                            Width="60"
                                            Background="#2F80ED"
                                            Foreground="#FFFFFF"
                                            Click="EditButton_Click"
                                            Tag="{Binding}"/>
                                    <Button Content="Delete"
                                            Width="60"
                                            Background="#EB5757"
                                            Foreground="#FFFFFF"
                                            Click="DeleteButton_Click"
                                            Tag="{Binding}"/>
                                </StackPanel>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>
        </ScrollViewer>
    </Border>
</Grid>

</UserControl>